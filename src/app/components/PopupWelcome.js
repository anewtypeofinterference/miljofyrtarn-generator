// components/PopupWelcome.js
'use client';

import React, { useState, useEffect } from 'react';
import Link from 'next/link';

export default function PopupWelcome() {
  const [visible, setVisible] = useState(false);

  useEffect(() => {
    const hasSeenPopup = localStorage.getItem('hasSeenPopup') === 'true';
    if (!hasSeenPopup) {
      setVisible(true);
    }
  }, []);

  const handleClose = () => {
    setVisible(false);
    localStorage.setItem('hasSeenPopup', 'true');
  };

  if (!visible) return null;

  return (
    <div className="absolute inset-0 bg-black/80 z-20 flex justify-center items-center">
        <div className="bg-white p-12 rounded-[10px] w-[500px] h-[600px] max-w-[93%] max-h-[93%] flex flex-col justify-center relative">
            <Link href="https://www.miljofyrtarn.no/" target="_blank" className="absolute top-12 left-12 w-[150px]">
                <svg width="100%" height="100%" viewBox="0 0 136 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M133.275 5.6999C133.044 5.56736 132.861 5.38643 132.731 5.15502C132.598 4.9236 132.533 4.66274 132.533 4.37241C132.533 4.08209 132.598 3.82332 132.731 3.59401C132.863 3.3647 133.044 3.18377 133.275 3.04913C133.506 2.91449 133.767 2.84717 134.057 2.84717C134.347 2.84717 134.605 2.91449 134.834 3.04913C135.063 3.18377 135.244 3.3647 135.379 3.59401C135.513 3.82332 135.58 4.08209 135.58 4.37241C135.58 4.66274 135.513 4.9236 135.379 5.15502C135.244 5.38643 135.061 5.56947 134.83 5.6999C134.599 5.83244 134.341 5.89766 134.057 5.89766C133.773 5.89766 133.506 5.83244 133.275 5.6999ZM134.685 5.45165C134.872 5.34436 135.017 5.19499 135.122 5.00565C135.227 4.81631 135.28 4.60172 135.28 4.3661C135.28 4.13047 135.227 3.93062 135.122 3.74128C135.017 3.55194 134.87 3.40256 134.681 3.29527C134.492 3.18798 134.284 3.13328 134.057 3.13328C133.83 3.13328 133.616 3.18798 133.429 3.29527C133.242 3.40256 133.097 3.55194 132.991 3.74128C132.886 3.93062 132.834 4.141 132.834 4.37241C132.834 4.60383 132.886 4.81421 132.991 5.00355C133.097 5.19289 133.244 5.34226 133.433 5.44955C133.622 5.55684 133.83 5.61154 134.057 5.61154C134.284 5.61154 134.498 5.55684 134.685 5.44955V5.45165ZM133.513 3.57508H134.128C134.282 3.57508 134.402 3.61925 134.488 3.70551C134.574 3.79177 134.618 3.90747 134.618 4.04843C134.618 4.13889 134.595 4.21884 134.551 4.29247C134.507 4.3661 134.444 4.4187 134.366 4.45025L134.807 5.16974H134.46L134.065 4.51336H133.805V5.16974H133.513V3.57297V3.57508ZM134.259 4.20411C134.303 4.16413 134.326 4.11364 134.326 4.05053C134.326 3.9811 134.303 3.92851 134.259 3.88854C134.214 3.84857 134.154 3.82963 134.08 3.82963H133.805V4.26512H134.08C134.154 4.26512 134.212 4.24618 134.259 4.20621V4.20411Z" fill="#002969"/>
                <path d="M127.014 17.1039V8.16484H129.267V9.33543C129.421 9.11077 129.633 8.89793 129.905 8.69692C130.189 8.49591 130.52 8.33629 130.899 8.21805C131.289 8.08798 131.714 8.02295 132.176 8.02295C132.814 8.02295 133.382 8.15893 133.878 8.43088C134.375 8.69101 134.765 9.06938 135.049 9.566C135.344 10.0508 135.492 10.6479 135.492 11.3574V17.1039H133.24V11.8362C133.24 11.446 133.169 11.115 133.027 10.843C132.885 10.5711 132.684 10.3641 132.424 10.2222C132.164 10.0685 131.862 9.99167 131.519 9.99167C131.046 9.99167 130.638 10.1217 130.296 10.3819C129.964 10.6302 129.71 10.9967 129.533 11.4815C129.356 11.9545 129.267 12.5339 129.267 13.2197V17.1039H127.014Z" fill="#002969"/>
                <path d="M119.93 17.1039V8.16484H122.183V9.3709C122.348 9.08712 122.561 8.84473 122.821 8.64372C123.081 8.43088 123.377 8.27717 123.708 8.18257C124.051 8.07616 124.412 8.02295 124.79 8.02295C124.979 8.02295 125.174 8.04069 125.375 8.07616C125.576 8.09981 125.748 8.14119 125.89 8.20031L125.73 10.3287C125.564 10.2459 125.381 10.1927 125.18 10.169C124.991 10.1454 124.796 10.1336 124.595 10.1336C124.276 10.1336 123.968 10.2045 123.673 10.3464C123.389 10.4883 123.129 10.7011 122.892 10.9849C122.668 11.2687 122.49 11.6411 122.36 12.1023C122.242 12.5516 122.183 13.0896 122.183 13.7163V17.1039H119.93Z" fill="#002969"/>
                <path d="M113.256 17.2458C112.63 17.2458 112.086 17.1335 111.624 16.9088C111.163 16.6724 110.803 16.3531 110.543 15.9511C110.294 15.5491 110.17 15.1057 110.17 14.6209C110.17 13.7341 110.478 13.0542 111.092 12.5812C111.719 12.0964 112.712 11.7831 114.072 11.6412L115.988 11.4461V13.0601L114.161 13.2907C113.747 13.338 113.404 13.4148 113.132 13.5212C112.872 13.6158 112.677 13.7459 112.547 13.9114C112.429 14.077 112.369 14.2839 112.369 14.5322C112.369 14.8514 112.488 15.1057 112.724 15.2948C112.972 15.4722 113.298 15.5609 113.7 15.5609C114.125 15.5609 114.498 15.4545 114.817 15.2416C115.136 15.0288 115.379 14.745 115.544 14.3903C115.722 14.0356 115.81 13.6454 115.81 13.2197V11.2687C115.81 10.9495 115.739 10.6834 115.597 10.4706C115.455 10.2459 115.26 10.0745 115.012 9.95625C114.764 9.82618 114.468 9.76115 114.125 9.76115C113.806 9.76115 113.522 9.81436 113.274 9.92078C113.026 10.0272 112.825 10.1927 112.671 10.4174C112.517 10.6421 112.423 10.9258 112.387 11.2687L110.241 10.9495C110.347 10.3583 110.578 9.84392 110.933 9.40643C111.299 8.96894 111.755 8.63195 112.298 8.39546C112.854 8.14716 113.463 8.023 114.125 8.023C114.894 8.023 115.574 8.15898 116.165 8.43094C116.756 8.70289 117.217 9.10491 117.548 9.637C117.879 10.1573 118.045 10.8017 118.045 11.5702V17.1039H115.81V15.9688C115.68 16.2053 115.485 16.4241 115.225 16.6251C114.977 16.8142 114.681 16.968 114.338 17.0862C113.995 17.1926 113.635 17.2458 113.256 17.2458ZM114.125 7.49092C113.522 7.49092 113.032 7.30764 112.653 6.9411C112.275 6.57455 112.086 6.11341 112.086 5.55767C112.086 5.1793 112.168 4.84822 112.334 4.56444C112.511 4.26884 112.754 4.03827 113.061 3.87273C113.369 3.69537 113.723 3.60669 114.125 3.60669C114.74 3.60669 115.237 3.79588 115.615 4.17425C116.005 4.5408 116.2 5.00194 116.2 5.55767C116.2 5.92422 116.112 6.2553 115.934 6.5509C115.769 6.8465 115.526 7.07707 115.207 7.24261C114.9 7.40815 114.539 7.49092 114.125 7.49092ZM114.143 6.42675C114.403 6.42675 114.61 6.33806 114.764 6.1607C114.929 5.98334 115.012 5.77642 115.012 5.53994C115.012 5.30345 114.929 5.10244 114.764 4.9369C114.61 4.77137 114.403 4.6886 114.143 4.6886C113.871 4.6886 113.652 4.77137 113.487 4.9369C113.333 5.10244 113.256 5.30345 113.256 5.53994C113.256 5.77642 113.333 5.98334 113.487 6.1607C113.652 6.33806 113.871 6.42675 114.143 6.42675Z" fill="#002969"/>
                <path d="M107.895 17.2456C107.304 17.2456 106.766 17.1274 106.281 16.8909C105.808 16.6544 105.43 16.3056 105.146 15.8445C104.874 15.3715 104.738 14.798 104.738 14.1241V5.98315H106.99V13.929C106.99 14.3783 107.097 14.7212 107.31 14.9577C107.534 15.1823 107.83 15.2947 108.196 15.2947C108.35 15.2947 108.498 15.2769 108.64 15.2415C108.794 15.206 108.947 15.1646 109.101 15.1173L109.261 17.0151C109.071 17.086 108.853 17.1392 108.604 17.1747C108.368 17.222 108.131 17.2456 107.895 17.2456ZM103.301 9.99154V8.16471H109.101V9.99154H103.301Z" fill="#002969"/>
                <path d="M97.6041 17.1039V8.16484H99.8566V9.3709C100.058 9.028 100.3 8.76196 100.584 8.57277C100.879 8.38358 101.187 8.24761 101.506 8.16484C101.825 8.07025 102.115 8.02295 102.375 8.02295C102.505 8.02295 102.612 8.02886 102.694 8.04068C102.777 8.04068 102.842 8.0466 102.89 8.05842L102.748 10.24C102.7 10.2282 102.623 10.2163 102.517 10.2045C102.422 10.1809 102.316 10.169 102.198 10.169C101.879 10.169 101.577 10.24 101.293 10.3819C101.021 10.5119 100.773 10.7189 100.548 11.0026C100.336 11.2864 100.164 11.6589 100.034 12.12C99.9157 12.5812 99.8566 13.1369 99.8566 13.7872V17.1039H97.6041Z" fill="#002969"/>
                <path d="M89.368 20.3318L91.6382 14.9755L94.2277 8.16479H96.5866L91.7269 20.3318H89.368ZM91.1771 17.8133L87.3106 8.16479H89.7405L92.2235 14.6385L91.1771 17.8133Z" fill="#002969"/>
                <path d="M82.6047 17.104V7.43772C82.6047 6.7401 82.7466 6.1548 83.0303 5.68184C83.3141 5.20887 83.6925 4.85415 84.1654 4.61766C84.6502 4.38118 85.1882 4.26294 85.7794 4.26294C86.0396 4.26294 86.282 4.28068 86.5066 4.31615C86.7431 4.35162 86.9559 4.41074 87.1451 4.49351L86.9855 6.39128C86.8081 6.32034 86.6485 6.27304 86.5066 6.24939C86.3647 6.21392 86.2169 6.19619 86.0632 6.19619C85.8267 6.19619 85.6198 6.24939 85.4425 6.35581C85.2651 6.46223 85.1232 6.62185 85.0168 6.83469C84.9104 7.0357 84.8572 7.28401 84.8572 7.57961V17.104H82.6047ZM81.168 9.99173V8.16491H86.9855V9.99173H81.168Z" fill="#002969"/>
                <path d="M75.8268 17.2457C74.9282 17.2457 74.1242 17.0506 73.4147 16.6604C72.7053 16.2583 72.1495 15.7144 71.7475 15.0286C71.3455 14.331 71.1445 13.527 71.1445 12.6165C71.1445 11.9425 71.2568 11.3277 71.4815 10.7719C71.7179 10.2162 72.0431 9.73142 72.4569 9.31758C72.8826 8.90373 73.3792 8.58448 73.9468 8.35982C74.5262 8.13517 75.1529 8.02284 75.8268 8.02284C76.7373 8.02284 77.5413 8.21794 78.239 8.60813C78.9484 8.99833 79.5041 9.54224 79.9062 10.2399C80.3082 10.9257 80.5092 11.7238 80.5092 12.6343C80.5092 13.3082 80.3909 13.929 80.1545 14.4966C79.9298 15.0523 79.6046 15.5371 79.179 15.9509C78.7651 16.3648 78.2744 16.684 77.7069 16.9087C77.1393 17.1333 76.5126 17.2457 75.8268 17.2457ZM75.8268 15.3302C76.1816 15.3302 76.5067 15.2651 76.8023 15.1351C77.0979 14.9932 77.3521 14.804 77.565 14.5675C77.7778 14.331 77.9433 14.0472 78.0616 13.7162C78.1798 13.3851 78.239 13.0185 78.239 12.6165C78.239 12.0844 78.1325 11.6174 77.9197 11.2154C77.7187 10.8133 77.4408 10.5 77.0861 10.2753C76.7314 10.0507 76.3116 9.93835 75.8268 9.93835C75.4721 9.93835 75.1469 10.0034 74.8513 10.1334C74.5557 10.2635 74.3015 10.4468 74.0887 10.6833C73.8758 10.9198 73.7103 11.2035 73.5921 11.5346C73.4738 11.8657 73.4147 12.2263 73.4147 12.6165C73.4147 13.1604 73.5152 13.6334 73.7162 14.0354C73.9291 14.4374 74.2187 14.7567 74.5853 14.9932C74.9518 15.2178 75.3657 15.3302 75.8268 15.3302ZM72.4747 17.6536L71.4105 16.7313L79.2499 7.59717L80.3141 8.53719L72.4747 17.6536Z" fill="#002969"/>
                <path d="M66.5817 20.4736C66.4398 20.4736 66.3038 20.4677 66.1738 20.4559C66.0319 20.4441 65.89 20.4263 65.7481 20.4027L65.8191 18.5227C65.89 18.5345 65.9728 18.5404 66.0674 18.5404C66.1501 18.5522 66.2329 18.5581 66.3157 18.5581C66.5994 18.5581 66.8182 18.4931 66.9719 18.363C67.1256 18.233 67.232 18.0438 67.2912 17.7955C67.3503 17.559 67.3798 17.2752 67.3798 16.9441V8.16472H69.6323V17.2279C69.6323 17.9137 69.5141 18.499 69.2776 18.9838C69.053 19.4686 68.716 19.8351 68.2666 20.0834C67.8173 20.3436 67.2557 20.4736 66.5817 20.4736ZM67.3798 9.99155V8.16472H69.6323V9.99155H67.3798ZM68.4972 6.97639C68.0834 6.97639 67.7405 6.84633 67.4685 6.5862C67.1966 6.31424 67.0606 5.97725 67.0606 5.57523C67.0606 5.30328 67.1197 5.06679 67.2379 4.86578C67.368 4.65295 67.5395 4.48741 67.7523 4.36917C67.977 4.23911 68.2253 4.17407 68.4972 4.17407C68.9111 4.17407 69.254 4.31005 69.5259 4.58201C69.8097 4.84214 69.9516 5.17321 69.9516 5.57523C69.9516 5.83536 69.8866 6.07185 69.7565 6.28468C69.6264 6.49752 69.455 6.66897 69.2421 6.79903C69.0293 6.91727 68.781 6.97639 68.4972 6.97639Z" fill="#002969"/>
                <path d="M62.8259 17.1039V4.54663H65.0784V17.1039H62.8259ZM62.8259 17.1039V15.277H65.0784V17.1039H62.8259ZM62.8259 6.37346V4.54663H65.0784V6.37346H62.8259Z" fill="#002969"/>
                <path d="M58.272 17.1038V8.16472H60.5245V17.1038H58.272ZM58.272 17.1038V15.2769H60.5245V17.1038H58.272ZM58.272 9.99155V8.16472H60.5245V9.99155H58.272ZM59.4072 6.97639C58.9933 6.97639 58.6504 6.84633 58.3785 6.5862C58.1065 6.31424 57.9705 5.97725 57.9705 5.57523C57.9705 5.30328 58.0296 5.06679 58.1479 4.86578C58.2779 4.65295 58.4494 4.48741 58.6622 4.36917C58.8869 4.23911 59.1352 4.17407 59.4072 4.17407C59.821 4.17407 60.1639 4.31005 60.4359 4.58201C60.7196 4.84214 60.8615 5.17321 60.8615 5.57523C60.8615 5.83536 60.7965 6.07185 60.6664 6.28468C60.5364 6.49752 60.3649 6.66897 60.1521 6.79903C59.9392 6.91727 59.6909 6.97639 59.4072 6.97639Z" fill="#002969"/>
                <path d="M41.9439 17.1038V4.68848H45.3138L48.0806 11.3218C48.2698 11.7948 48.4235 12.2205 48.5418 12.5988C48.6718 12.9772 48.7664 13.2787 48.8256 13.5034C48.8965 13.728 48.932 13.8404 48.932 13.8404C48.932 13.8404 48.9615 13.728 49.0207 13.5034C49.0916 13.2787 49.1921 12.9772 49.3222 12.5988C49.4522 12.2205 49.6119 11.8007 49.801 11.3396L52.5679 4.68848H55.8491V17.1038H53.437V10.6478C53.437 10.1276 53.4429 9.67235 53.4547 9.28215C53.4665 8.88013 53.4784 8.56088 53.4902 8.3244C53.502 8.08792 53.5079 7.96967 53.5079 7.96967C53.5079 7.96967 53.4665 8.082 53.3838 8.30666C53.3128 8.5195 53.2064 8.8151 53.0645 9.19347C52.9226 9.57184 52.7571 9.99751 52.5679 10.4705L49.8188 17.1038H47.9742L45.2251 10.4705C45.0359 9.99751 44.8704 9.57776 44.7285 9.21121C44.5984 8.83284 44.492 8.53723 44.4092 8.3244C44.3383 8.09974 44.3028 7.98741 44.3028 7.98741C44.3028 7.98741 44.3087 8.10565 44.3206 8.34213C44.3324 8.56679 44.3383 8.88013 44.3383 9.28215C44.3501 9.67235 44.356 10.1276 44.356 10.6478V17.1038H41.9439Z" fill="#002969"/>
                <rect x="0.253845" width="35.1402" height="22.1669" rx="1.63443" fill="#00ACEB"/>
                <path d="M24.1774 19.0192C28.5378 19.0192 32.0725 15.4705 32.0725 11.0929C32.0725 6.71543 28.5378 3.16675 24.1774 3.16675C19.8171 3.16675 16.2823 6.71543 16.2823 11.0929C16.2823 15.4705 19.8171 19.0192 24.1774 19.0192Z" fill="#002969"/>
                <path d="M3.71537 4.2161L18.189 16.2602L23.1705 3.23022L4.08456 3.25109C3.57983 3.25109 3.34036 3.87634 3.71537 4.2161Z" fill="white"/>
                <path d="M23.1716 3.23022C20.3869 3.59168 17.884 5.43654 16.8072 8.25307C15.7304 11.0696 16.3616 14.1216 18.19 16.2611C20.9747 15.8996 23.4776 14.0548 24.5544 11.2382C25.6312 8.4217 25 5.36976 23.1716 3.23022Z" fill="#1CC600"/>
                </svg>
            </Link>
            <div className="text-3xl font-semibold mb-6">Velkommen til Miljøfyrtårn sitt visuelle verktøy</div>
            <div className="mb-6">Her kan du enkelt lage og tilpasse innhold. Flytt, rediger og gjør endringer på elementene til du er fornøyd, og eksporter det ferdige resultatet som PNG eller PDF.</div>
            <button onClick={handleClose} className="absolute left-12 bottom-12 py-2 px-3 bg-black/5 rounded-md hover:bg-black/10 transition-colors duration-200 select-none">Ta meg til verktøyet</button>
        </div>
    </div>
  );
}